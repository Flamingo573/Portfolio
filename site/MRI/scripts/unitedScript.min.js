"use strict";function animate(a,b,c){function d(){var c=performance.now();requestAnimationFrame(function d(e){var f=e-c;f>b&&(f=b),a(f/b),f/b!=1&&requestAnimationFrame(d)})}setTimeout(bind(d,this),c)}function bind(a,b){return function(c){return a.call(b,c)}}function getTransOrigin(a,b,c,d){var e={rect:function(){var b=a.getAttribute("x"),e=a.getAttribute("y"),f=a.getAttribute("width"),g=a.getAttribute("height");return f*c/100+ +b+"px "+(g*d/100+ +e)+"px"},line:function(){var b=a.getAttribute("y2")-a.getAttribute("y1");a.getAttribute("x1");return a.getAttribute("x1")+"px "+(b*d/100+ +a.getAttribute("y1"))+"px"},circle:function(){return a.getAttribute("cx")+"px "+a.getAttribute("cy")+"px"},g:function(){return a.getBoundingClientRect().width*c/100+a.getBoundingClientRect().left+"px "+(a.getBoundingClientRect().height*d/100+a.getBoundingClientRect().top)+"px"}};return e[b]()}class a{constructor(a){this.svg=a.svg,window.addEventListener("load",bind(this.listenerLoad,this))}listenerLoad(){this.svg=this.svg.contentDocument,window.addEventListener("scroll",bind(this.listenerScroll,this))}listenerScroll(){let a=this.svg.querySelector("#items-box-2"),b=document.documentElement.clientHeight/2+window.pageYOffset,c=100*(b-(large.getBoundingClientRect().top+window.pageYOffset))/large.offsetHeight;c>33&&c<66&&setTimeout(bind(function(){a.classList.add("active")},this),300)}}new a({svg:document.body.querySelectorAll("object")[1]});class c{constructor(a){this.svg=a.svg,window.addEventListener("load",bind(this.listenerLoad,this))}listenerLoad(){this.svg=this.svg.contentDocument,window.addEventListener("scroll",bind(this.listenerScroll,this))}listenerScroll(){let a=this.svg.querySelector("#items-box-3"),b=document.documentElement.clientHeight/2+window.pageYOffset,c=100*(b-(large.getBoundingClientRect().top+window.pageYOffset))/large.offsetHeight;c>66&&a.classList.add("active")}}new c({svg:document.body.querySelectorAll("object")[2]});class e{constructor(a){this.svg=a.svg,this.count=1,window.addEventListener("load",bind(this.listenerLoad,this))}listenerLoad(){window.addEventListener("scroll",bind(this.hideCoins,this))}animEnd(a){animate(function(b){if(1==b)var b=20;else var b=15*b;a[0].style.cssText="transform: translateY("+b+"px)"},200,500),animate(function(b){if(1==b)var b=45;else var b=25*b;a[2].style.cssText="transform: translateY("+b+"px) translateX(-14.4px)"},100,1e3),animate(function(b){if(1==b)var b=45;else var b=45*b;a[1].style.cssText="transform: translateY("+b+"px) translateX(9.2px)"},200,1500)}hideCoins(){var a=document.body.querySelector(".box-1").getBoundingClientRect().top+window.pageYOffset,b=document.documentElement.clientHeight/2+window.pageYOffset,c=this,d=this.svg.contentDocument.querySelectorAll('g[id^="coin"]');b>a&&this.count&&(this.count=0,animate(function(a){if(1==a)var b=9.2;else var b=10*a;if(1==a)var e=-13;else var e=15*-a;d[1].style.cssText="transform: translateX("+b+"px) translateY("+e+"px)",1==a&&c.animEnd(d)},200,3e3),animate(function(a){if(1==a)var a=-14.4;else var a=15*-a;d[2].style.cssText="transform: translateX("+a+"px)"},200,3500))}}var animateCoins=new e({svg:document.body.querySelector(".items-box1")});class f{constructor(a){this.svg=a.svg,window.addEventListener("load",bind(this.listenerLoad,this))}listenerLoad(){setInterval(bind(this.setTime,this),1e3)}setTime(){var a=new Date,b=this.svg.contentDocument.querySelector("#hour"),c=this.svg.contentDocument.querySelector("#minute_1_"),d=this.svg.contentDocument.querySelector("#second");b.style.cssText=`transform-origin: ${getTransOrigin(b,"rect",50,100)}; transform: rotate( ${(60*a.getHours()+a.getMinutes())/2}deg)`,c.style.cssText=`transform-origin: ${getTransOrigin(c,"rect",50,100)}; transform: rotate(${6*a.getMinutes()}deg)`,d.style.cssText=`transform-origin: ${getTransOrigin(d,"rect",50,100)}; transform: rotate( ${6*a.getSeconds()}deg)`}}var clock=new f({svg:document.body.querySelector(".items-box1")});class g{constructor(a){this.svg=a.svg,this.count=0,window.addEventListener("load",bind(this.listenerLoad,this))}listenerLoad(){this.heightGraphicZero(),window.addEventListener("scroll",bind(this.setGraphic,this))}heightGraphicZero(){this.graphic=this.svg.contentDocument.querySelectorAll('line[id^="graphic"]');for(var a=0;a<this.graphic.length;a++)this.graphic[a].setAttribute("y1","174.8")}setGraphic(){var a=document.body.querySelector(".box-1").getBoundingClientRect(),b=document.documentElement.clientHeight/2+window.pageYOffset;b>a.top+window.pageYOffset&&0==this.count&&(this.count=1,animate(bind(function(a){var b=174.8;if(1==a)var a=156.8;else var a=b-19*a;this.graphic[4].setAttribute("y1",a)},this),500,100),animate(bind(function(a){var b=174.8;if(1==a)var a=148.8;else var a=b-25*a;this.graphic[3].setAttribute("y1",a)},this),500,600),animate(bind(function(a){var b=174.8;if(1==a)var a=139.8;else var a=b-35*a;this.graphic[2].setAttribute("y1",a)},this),500,1100),animate(bind(function(a){var b=174.8;if(1==a)var a=129.8;else var a=b-45*a;this.graphic[1].setAttribute("y1",a)},this),500,1700),animate(bind(function(a){var b=174.8;if(1==a)var a=114.8;else var a=b-60*a;this.graphic[0].setAttribute("y1",a)},this),500,2300))}}var graphic=new g({svg:document.body.querySelector(".items-box1")});class h{constructor(a){this.header=a.firstElem,this.section=a.lastElem,this.setHeight(),window.addEventListener("resize",bind(this.setHeight,this))}setHeight(){this.section.style.height=100-100*this.header.offsetHeight/document.documentElement.clientHeight+"%"}}var sectionHeght=new h({firstElem:document.body.querySelector(".main-section header"),lastElem:document.body.querySelector(".main-section section")});class i{constructor(a){this.largeBox=a.largeBox,this.boxes=a.boxes,this.svg=a.svg,window.addEventListener("load",bind(this.listenerEvent,this)),window.addEventListener("resize",bind(this.listenerEvent,this))}listenerEvent(){this.getCoords(),this.settingSlider(),window.addEventListener("scroll",bind(this.redDot,this))}getCoords(){this.coordBoxes=[];for(let a=0;a<this.boxes.length;a++){let b=this.boxes[a].getBoundingClientRect().top+window.pageYOffset;this.coordBoxes.push(b)}}settingSlider(){this.svg.style.height=this.largeBox.offsetHeight+"px";let a=this.svg.contentDocument.firstChild,b=a.querySelectorAll('circle[id^="circle"]'),c=a.querySelector("#line");this.redPoint=a.querySelector("#redCircle"),this.coordLarge=[this.largeBox.getBoundingClientRect().top+window.pageYOffset,this.largeBox.getBoundingClientRect().botom+window.pageYOffset];let d=[this.coordBoxes[2]-this.coordLarge[0]+16,this.coordBoxes[1]-this.coordLarge[0]+16,this.coordBoxes[0]-this.coordBoxes[0]+17];for(let e=0;e<d.length;e++)b[e].setAttribute("cy",d[e]);c.setAttribute("y2",this.coordBoxes[2]-this.coordLarge[0])}redDot(a){let b=document.documentElement.clientHeight/2+window.pageYOffset;if(b>this.coordLarge[0]){let a=100*(b-this.coordLarge[0])/large.offsetHeight;a<33&&this.redPoint.setAttribute("cy",this.coordBoxes[0]-this.coordBoxes[0]+17),a>33&&a<66&&this.redPoint.setAttribute("cy",this.coordBoxes[1]-this.coordLarge[0]+16),a>66&&this.redPoint.setAttribute("cy",this.coordBoxes[2]-this.coordLarge[0]+16)}}}new i({largeBox:document.body.querySelector(".large-box-SVG"),boxes:document.body.querySelectorAll('.large-box-SVG div[class^="box"]'),svg:document.body.querySelector(".slider")});
